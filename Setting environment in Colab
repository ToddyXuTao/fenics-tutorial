"""
  I have tried the officail ways of setting the invironment. Details can be found at:
https://fenicsproject.org/download/
  None of these methods work. Finally I choose Colab, it's very convenient and easy to code using Colab.
  So first, you need to run the following codes before you run your FEniCS code. Colab refreshed the environment each 12 hours, 
then you need to run the codes again.
"""

from google.colab import files

import platform, sys
python_version=platform.python_version()
from distutils.version import LooseVersion, StrictVersion

if ( LooseVersion(python_version) < LooseVersion("3.0.0")):
    print("Python3 is needed!");
    print("How to fix: Runtime/Change_runtime_type/Python 3");
    sys.exit()
try:
    from dolfin import *; from mshr import *
except ImportError as e:
    !apt-get install -y -qq software-properties-common python-software-properties module-init-tools
    !add-apt-repository -y ppa:fenics-packages/fenics
    !apt-get update -qq
    !apt install -y --no-install-recommends fenics
    from dolfin import *; from mshr import *
    
import matplotlib.pyplot as plt;
from IPython.display import clear_output, display; import time; import dolfin.common.plotting as fenicsplot 
import time
from __future__ import print_function
import os, sys, shutil
from tqdm import tqdm

dolfin_version = dolfin.__version__
print ('dolfin version:', dolfin_version)

!rm -rf * # clean up all files
